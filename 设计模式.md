# REFERENCE

  1. [linux C++后台开发面试题](<https://zhuanlan.zhihu.com/p/103027724>)
   2. [知乎问题：C++后台开发有哪些练基础的开源项目？](<https://www.zhihu.com/question/39169728>)

# 设计模式

1. 对于单例模式，有什么使用场景了，讲了全局id生成器，他问我分布式id生成器怎么实现，说了zk，问我zk了解原理不，讲了zab，然后就没问啦。
2. 除了单例模式，知道适配器模式怎么实现么，有什么用

## 工厂方法模式

> [知乎:leetcode](<https://www.zhihu.com/question/308850392/answer/1324509357?utm_source=wechat_session&utm_medium=social&utm_oi=65958932643840&utm_content=pu>)

### 1.1.简单工厂模式



### 1.2.工厂方法模式



### 1.3.抽象工厂模式



## 单例模式

### 2.1.饿汉式

### 2.2.懒汉式



## 建造型模式





# 分布式架构



1. CAP BASE理论
2. 看你项目里面用了etcd，讲解下etcd干什么用的，怎么保证高可用和一致性？
3. 既然你提到了raft算法，讲下raft算法的基本流程？raft算法里面如果出现脑裂怎么处理？有没有了解过paxos和zookeeper的zab算法，他们之前有啥区别？
4. rpc有没有了解

# 系统设计

1. 朋友之间的点对点关系用图维护，怎么判断两人是否是朋友，并查集，时间复杂度，过程。
2. 10g文件，只有2g内存，怎么查找文件中指定的字符串出现位置。
3. Linux大文件怎么查某一行的内容。

   秒杀系统的架构设计
4. 十亿个数的集合和10w个数的集合，如何求它们的交集。
5. 针对自己最熟悉的项目，画出项目的架构图，主要的数据表结构，项目中使用到的技术点，项目的总峰值qps，时延，以及有没有分析过时延出现的耗时分别出现在什么地方，项目有啥改进的地方没有？
6. 如果请求出现问题没有响应，如何定位问题，说下思路？
7. 除了公司项目之外，业务有没有研究过知名项目或做出过贡献？
8. go程和线程有什么区别？ 答：1 起一个go程大概只需要4kb的内存，起一个Java线程需要1.5MB的内存；go程的调度在用户态非常轻量，Java线程的切换成本比较高。接着问为啥成本比较高？因为Java线程的调度需要在用户态和内核态切换所以成本高？为啥在用户态和内核态之间切换调度成本比较高？简单说了下内核态和用户态的定义。接着问，还是没有明白为啥成本高？心里瞬间崩溃，没完没了了呀，OS这块依旧是痛呀，支支吾吾半天放弃了。
9. 服务器CPU 100%怎么定位？可能是由于平时定位业务问题的思维定势，加之处于蒙蔽状态，随口就是：先查看监控面板看有无突发流量异常，接着查看业务日志是否有异常，针对CPU100%那个时间段，取一个典型业务流程的日志查看。最后才提到使用top命令来监控看是哪个进程占用到100%。果然阵脚大乱，张口就来，捂脸。。。 本来正确的思路应该是先用top定位出问题的进程，再用top定位到出问题的线程，再打印线程堆栈查看运行情况，这个流程换平时肯定能答出来，但是，但是没有但是。还是得好好总结。
10. 最后问了一个系统设计题目（朋友圈的设计），白板上面画出系统的架构图，主要的表结构和讲解主要的业务流程，如果用户变多流量变大，架构将怎么扩展，怎样应对？ 这个答的也有点乱，直接上来自顾自的用了一个通用的架构，感觉毫无亮点。后面反思应该先定位业务的特点，这个业务明显是读多写少，然后和面试官沟通一期刚开始的方案的用户量，性能要求，单机目标qps是什么等等？在明确系统的特点和约束之后再来设计，而不是一开始就是用典型互联网的那种通用架构自顾自己搞自己的方案。
11. 设计一个限流的算法
12. 定时器除了小根堆，还可以怎么做
13. 项目性能瓶颈在哪，数据库表怎么设计
14. .在高并发的生产环境中（非调试场景下），如果出现数据包的丢失，如何定位问题
15. 补充一个最最重要，最最坑爹，最最有难度的一个题目：一个每秒百万级访问量的互联网服务器，每个访问都有数据计算和I/O操作，如果让你设计，你怎么设计？


